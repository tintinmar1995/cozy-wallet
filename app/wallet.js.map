{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/locales sync ^\\.\\/.*$","webpack:///zlib (ignored)","webpack:///fs (ignored)","webpack:///./src/doctypes/index.js","webpack:///http (ignored)","webpack:///https (ignored)","webpack:///./src/components/NewCard/index.jsx","webpack:///./src/components/WalletsViewer/index.jsx","webpack:///./src/components/WalletsViewer/Wallet.jsx","webpack:///./src/components/WalletsViewer/MyWallets.jsx","webpack:///./src/targets/browser/index.jsx","webpack:///./src/doctypes/todos.js","webpack:///./src/styles/index.css","webpack:///./src/targets/vendor/assets/icon.svg","webpack:///./src/components/Sidebar.jsx","webpack:///./src/components/NewCard/EditCard.jsx","webpack:///./node_modules/date-fns/locale sync ^\\.\\/.*\\/index\\.js$","webpack:///./manifest.webapp","webpack:///./src/components/WalletsViewer/Card.jsx","webpack:///./src/components/App.jsx"],"names":["todos","doctype","TODOS_DOCTYPE","attributes","relationships","NewCard","WalletsViewer","compare","a","b","store","Wallet","props","context","client","id","stackClient","fetchJSON","then","response","setState","name","data","err","alert","csvFile","Papa","parse","complete","updateData","header","result","isEmpty","length","state","boolLoading","loadCards","sort","out","i","push","splice","newFile","unparse","split","join","catch","error","res","boolModal","marginRight","replace","Component","withClient","MyWallets","ids","dirId","filesId","contents","newWalletName","type","fake","creatingWallet","margin","event","target","value","newWallet","index","position","transform","height","display","loadWalletsId","appLocale","renderApp","App","require","default","render","document","querySelector","getDataOrDefault","toTest","defaultData","templateRegex","test","addEventListener","root","dataset","appIcon","cozyIconPath","appNamePrefix","cozyAppNamePrefix","name_prefix","appName","cozyAppName","cozyLocale","protocol","window","location","CozyClient","uri","cozyDomain","token","cozyToken","schema","cozy","bar","init","iconPath","lang","replaceTitleOnMobile","todosQuery","find","Sidebar","t","translate","EditCard","templateNewLine","busy","titleModal","textModal","selectedWallets","newLine","note","cardid","barcodetype","label","wallets","loadWalletsNameAndId","addCard","background","isDisabled","Option","CheckboxOption","Barcode","Card","card","cancelling","onClick","str","substring","hot","module"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,0CAA0C;QAC1C;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;ACrKA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;;;;;;ACvBA,e;;;;;;;ACAA,e;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;CAEA;;AACe;AACbA,OAAK,EAAE;AACLC,WAAO,EAAEC,oDADJ;AAELC,cAAU,EAAE,EA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;AClIA,kBAAkB,yMAAyM,gCAAgC,WAAW,KAAK,kDAAkD,gBAAgB,QAAQ,yHAAyH,gBAAgB,iH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA9d;AACA;AACA;AACA;AACA;AAEO,IAAMmB,IAAb;AAAA;AAAA;AAAA;;AACE,gBAAY7H,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,8EAAMD,KAAN,EAAaC,OAAb;AACA,UAAKqB,KAAL,GAAa;AAAEe,eAAS,EAAE;AAAb,KAAb;AAF0B;AAG3B;;AAJH;AAAA;AAAA,6BAMW;AAAA;;AAAA,UACCyF,IADD,GACU,KAAK9H,KADf,CACC8H,IADD;AAAA,UAECzF,SAFD,GAEe,KAAKf,KAFpB,CAECe,SAFD,EAIP;;AACA,UAAI,CAACyF,IAAI,CAAChI,KAAV,EAAiB;AACf,eAAO,IAAP;AACD;;AAED,UAAI4B,GAAG,GAAG,EAAV,CATO,CAUP;;AACA,UAAIW,SAAJ,EAAe;AACbX,WAAG,CAACE,IAAJ,CACE,wEACE,2DAAC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","file":"app/wallet.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \"/wallet.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./en\": \"7dT6\",\n\t\"./en.json\": \"7dT6\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"/KVF\";","/* (ignored) */","/* (ignored) */","import { TODOS_DOCTYPE } from './todos'\n\n// the documents schema, necessary for CozyClient\nexport default {\n  todos: {\n    doctype: TODOS_DOCTYPE,\n    attributes: {},\n    relationships: {}\n  }\n}\n\n// export all doctypes for the application\nexport * from './todos'\n","/* (ignored) */","/* (ignored) */","import React from 'react'\n\nimport EditCard from './EditCard'\n\nexport const NewCard = () => {\n  return (\n    <div>\n      <EditCard />\n    </div>\n  )\n}\n\nexport default NewCard\n","import React from 'react'\n\nimport MyWallets from './MyWallets'\n\nexport const WalletsViewer = () => {\n  return (\n    <div>\n      <MyWallets />\n    </div>\n  )\n}\n\nexport default WalletsViewer\n","import React, { Component } from 'react'\nimport Papa from 'papaparse'\nimport Card from './Card'\nimport Button from 'cozy-ui/transpiled/react/MuiCozyTheme/Buttons'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\n\nimport { withClient } from 'cozy-client'\n\n// Compare is used to sort cards in a wallet\nfunction compare(a, b) {\n  if (a.store < b.store) {\n    return -1\n  }\n  if (a.store > b.store) {\n    return 1\n  }\n  return 0\n}\n\nexport class Wallet extends Component {\n  constructor(props, context) {\n    super(props, context)\n    // initial component state\n    this.state = {\n      boolLoading: true,\n      csvFile: '',\n      name: '',\n      isEmpty: false,\n      data: []\n    }\n\n    this.loadCards()\n  }\n\n  // load cards from csv file\n  loadCards = async () => {\n    const { client, id } = this.props\n\n    // Get Wallet's name\n    await client.stackClient\n      .fetchJSON('GET', '/files/' + id)\n      .then(async response => {\n        try {\n          this.setState({ name: response.data.attributes.name })\n        } catch (err) {\n          alert(err)\n        }\n      })\n\n    // Get the cards\n    await client.stackClient\n      .fetchJSON('GET', '/files/download/' + id)\n      .then(async response => {\n        try {\n          this.setState({ csvFile: response })\n          Papa.parse(response, {\n            complete: this.updateData,\n            header: true\n          })\n        } catch (err) {\n          alert(err)\n        }\n      })\n  }\n\n  updateData = result => {\n    var data = result.data\n    this.setState({\n      data: data,\n      isEmpty: data.length == 0 || (data.length == 1 && !data[0].store)\n    })\n  }\n\n  render() {\n    const { data, isEmpty } = this.state\n\n    if (!isEmpty) {\n      // Sort card by store\n      data.sort(compare)\n\n      var out = []\n      for (var i = 0; i < data.length; i++) {\n        out.push(\n          <Card\n            id={i}\n            card={data[i]}\n            onClick={async i => {\n              const { client, id } = this.props\n\n              // Deleting the card from the array of card\n              this.state.data.splice(i, 1)\n              // Converting the array to a CSV file\n              var newFile = Papa.unparse(this.state.data)\n              // Clean card and prevent from empty lines\n              newFile = newFile\n                .split(',,,,,,\\r\\n')\n                .join('')\n                .split(',,,,,,')\n                .join('')\n\n              // Update the file in Cozy Drive\n              const res = await client.stackClient\n                .fetchJSON('PUT', '/files/' + id, newFile)\n                .then(response => {\n                  return response\n                })\n                .catch(error => {\n                  alert(error)\n                })\n\n              this.setState({\n                boolModal: false\n              })\n            }}\n          />\n        )\n      }\n      return (\n        <ExpansionPanel style={{ marginRight: '50px' }}>\n          <ExpansionPanelSummary>\n            {this.state.name.replace('.csv', '')}\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <div>{out}</div>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      )\n    } else {\n      return (\n        <ExpansionPanel style={{ marginRight: '50px' }}>\n          <ExpansionPanelSummary>\n            {this.state.name.replace('.csv', '')}\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <Button\n              variant=\"contained\"\n              className=\"u-m-1\"\n              icon=\"trash\"\n              theme=\"danger\"\n              onClick={() => {\n                const { client, id } = this.props\n                client.stackClient\n                  .fetchJSON('DELETE', '/files/' + id)\n                  .catch(error => {\n                    alert(error)\n                  })\n              }}\n            >\n              Delete\n            </Button>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      )\n    }\n  }\n}\n\nexport default withClient(Wallet)\n","import React, { Component } from 'react'\nimport Wallet from './Wallet'\n\nimport { withClient } from 'cozy-client'\nimport MuiCozyTheme from 'cozy-ui/transpiled/react/MuiCozyTheme'\nimport Button from 'cozy-ui/transpiled/react/Button'\nimport Input from 'cozy-ui/transpiled/react/Input'\nimport Empty from 'cozy-ui/react/Empty'\n\nexport class MyWallets extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      dirId: '',\n      filesId: [],\n      creatingWallet: false,\n      newWalletName: ''\n    }\n  }\n\n  loadWalletsId = async () => {\n    var ids = { dirId: '', filesId: [] }\n    const { client } = this.props\n\n    // Get the id of the folder \"My Wallets\", and the content's id\n    try {\n      ids = await client.stackClient\n        .fetchJSON('GET', '/files/metadata?Path=/My%20Wallets')\n        .then(response => {\n          return {\n            dirId: response.data.id,\n            filesId: response.data.relationships.contents.data\n          }\n        })\n    } catch (e) {\n      // Create the folder \"My Wallets\" and get its id\n      ids = await client.stackClient\n        .fetchJSON('POST', '/files/?Type=directory&Name=My%20Wallets')\n        .then(response => {\n          return { dirId: response.data.id, filesId: [] }\n        })\n        .catch(error => {\n          alert(error)\n        })\n    }\n\n    this.setState({ dirId: ids.dirId, filesId: ids.filesId })\n  }\n\n  newWallet = async () => {\n    const { client } = this.props\n    const { filesId } = this.state\n\n    // Create dummy file\n    const response = await client.stackClient\n      .fetchJSON(\n        'POST',\n        '/files/' +\n          this.state.dirId +\n          '?Type=file&Name=' +\n          this.state.newWalletName +\n          '.csv',\n        '_id,store,note,cardid,headercolor,headertextcolor,barcodetype\\r\\n1,Exemple,This is a note,2070253157477,-5414233,-1,EAN_13\\r\\n'\n      )\n      .catch(error => {\n        alert(error)\n      })\n\n    filesId.push({\n      type: 'io.cozy.files',\n      id: response.data.id,\n      fake: 'news'\n    })\n\n    this.setState({\n      creatingWallet: false,\n      filesId: filesId,\n      newWalletName: ''\n    })\n  }\n\n  render() {\n    var out = []\n    const { creatingWallet } = this.state\n\n    out.push(\n      <div style={{ margin: '20px' }}>\n        <form>\n          <Button\n            theme=\"secondary\"\n            type=\"button\"\n            onClick={() => {\n              this.setState({ creatingWallet: !this.state.creatingWallet })\n            }}\n            busy={creatingWallet}\n            label=\"New wallet\"\n            size=\"large\"\n          />\n          {creatingWallet && (\n            <Input\n              placeholder=\"Enter the name of your new wallet\"\n              value={this.state.newWalletName}\n              onChange={event => {\n                this.setState({ newWalletName: event.target.value })\n              }}\n            />\n          )}\n          {creatingWallet && (\n            <Button\n              theme=\"secondary\"\n              label=\"Create\"\n              onClick={this.newWallet}\n              type=\"button\"\n              size=\"large\"\n            />\n          )}\n          {creatingWallet && (\n            <Button\n              iconOnly\n              type=\"button\"\n              theme=\"secondary\"\n              onClick={() => {\n                this.setState({ creatingWallet: !this.state.creatingWallet })\n              }}\n              label=\"Cancel\"\n              icon=\"cross\"\n              extension=\"narrow\"\n              size=\"large\"\n            />\n          )}\n        </form>\n      </div>\n    )\n\n    // For each wallet, add it to the page\n    for (var index = 0; index < this.state.filesId.length; index++) {\n      out.push(\n        <MuiCozyTheme>\n          <Wallet id={this.state.filesId[index].id} />\n        </MuiCozyTheme>\n      )\n    }\n\n    if (this.state.filesId.length == 0) {\n      out.push(\n        <div\n          style={{\n            position: 'relative',\n            transform: 'translateZ(0)',\n            height: '500px',\n            display: 'flex'\n          }}\n        >\n          <Empty\n            icon=\"cozy\"\n            title=\"This list is empty\"\n            text=\"Try adding some content to this list\"\n          />\n        </div>\n      )\n    }\n\n    return <div>{out}</div>\n  }\n\n  componentDidMount() {\n    this.loadWalletsId()\n  }\n}\n\nexport default withClient(MyWallets)\n","/* global cozy */\n\nimport 'styles'\n\nimport React from 'react'\nimport CozyClient, { CozyProvider } from 'cozy-client'\nimport { render } from 'react-dom'\nimport { I18n } from 'cozy-ui/react/I18n'\nimport schema from 'doctypes'\n\nlet appLocale\nconst renderApp = function(client) {\n  const App = require('components/App').default\n  render(\n    <I18n\n      lang={appLocale}\n      dictRequire={appLocale => require(`locales/${appLocale}`)}\n    >\n      <CozyProvider client={client}>\n        <App />\n      </CozyProvider>\n    </I18n>,\n    document.querySelector('[role=application]')\n  )\n}\n\n// return a defaultData if the template hasn't been replaced by cozy-stack\nconst getDataOrDefault = function(toTest, defaultData) {\n  const templateRegex = /^\\{\\{\\.[a-zA-Z]*\\}\\}$/ // {{.Example}}\n  return templateRegex.test(toTest) ? defaultData : toTest\n}\n\n// initial rendering of the application\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.querySelector('[role=application]')\n  const data = root.dataset\n\n  const appIcon = getDataOrDefault(\n    data.cozyIconPath,\n    require('../vendor/assets/icon.svg')\n  )\n\n  const appNamePrefix = getDataOrDefault(\n    data.cozyAppNamePrefix || require('../../../manifest.webapp').name_prefix,\n    ''\n  )\n\n  const appName = getDataOrDefault(\n    data.cozyAppName,\n    require('../../../manifest.webapp').name\n  )\n\n  appLocale = getDataOrDefault(data.cozyLocale, 'en')\n\n  const protocol = window.location ? window.location.protocol : 'https:'\n\n  // initialize the client to interact with the cozy stack\n  const client = new CozyClient({\n    uri: `${protocol}//${data.cozyDomain}`,\n    token: data.cozyToken,\n    schema\n  })\n\n  // initialize the bar, common of all applications, it allows\n  // platform features like apps navigation without doing anything\n  cozy.bar.init({\n    appName: appName,\n    appNamePrefix: appNamePrefix,\n    iconPath: appIcon,\n    lang: appLocale,\n    replaceTitleOnMobile: true\n  })\n\n  renderApp(client)\n})\n","export const TODOS_DOCTYPE = 'io.mocks.todos'\n\n// queries for CozyClient\n\nexport const todosQuery = client => client.find(TODOS_DOCTYPE)\n","// extracted by mini-css-extract-plugin","module.exports = \"/img/icon.svg\";","import React from 'react'\nimport Icon from 'cozy-ui/react/Icon'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { NavLink } from 'react-router-dom'\n\nexport const Sidebar = ({ t }) => (\n  <aside className=\"o-sidebar\">\n    <nav>\n      <ul className=\"c-nav\">\n        <li className=\"c-nav-item\">\n          <NavLink\n            to=\"/wallet\"\n            className=\"c-nav-link\"\n            activeClassName=\"is-active\"\n          >\n            <Icon className=\"c-nav-icon\" icon=\"wallet\" />\n            {t('Nav.wallet')}\n          </NavLink>\n        </li>\n        <li className=\"c-nav-item\">\n          <NavLink to=\"/add\" className=\"c-nav-link\" activeClassName=\"is-active\">\n            <Icon className=\"c-nav-icon\" icon=\"plus\" />\n            {t('Nav.add_card')}\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  </aside>\n)\n\n// translate() provide t() to use translations (ex: locales/en.json)\nexport default translate()(Sidebar)\n","import React, { Component } from 'react'\nimport { Button } from 'cozy-ui/react/Button'\nimport Barcode from 'react-barcode'\nimport Label from 'cozy-ui/react/Label'\nimport Input from 'cozy-ui/react/Input'\nimport Empty from 'cozy-ui/react/Empty'\nimport Modal from 'cozy-ui/react/Modal'\nimport SelectBox, { CheckboxOption } from 'cozy-ui/transpiled/react/SelectBox'\n\nimport { withClient } from 'cozy-client'\n\nexport class EditCard extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      store: '',\n      note: '',\n      cardid: '',\n      barcodetype: '',\n      busy: false,\n      wallets: [],\n      selectedWallets: []\n    }\n    this.loadWalletsNameAndId()\n  }\n\n  addCard = async () => {\n    // The templateNewLine matches with the android app LoyaltyCardLocker\n    // The two unreplaced attributes are colors\n    const templateNewLine =\n      '[**ID**],[**STORE**],[**NOTE**],[**CARDID**],-416706,-1,[**TYPE**]\\r\\n'\n    const { client } = this.props\n    var newFile = ''\n    var res = ''\n\n    // Set the Save button as working\n    this.setState({\n      busy: true,\n      boolModal: true,\n      titleModal: 'Processing',\n      textModal: ''\n    })\n\n    for (var index = 0; index < this.state.selectedWallets.length; index++) {\n      // Create the body of the new file\n      // Get the old file, clean it and add the new line\n      newFile = await client.stackClient\n        .fetchJSON(\n          'GET',\n          '/files/download/' + this.state.selectedWallets[index].value\n        )\n        .then(response => {\n          var newLine = templateNewLine\n            .replace('[**ID**]', response.split('\\n').length)\n            .replace('[**NOTE**]', this.state.note)\n            .replace('[**STORE**]', this.state.store)\n            .replace('[**CARDID**]', this.state.cardid)\n            .replace('[**TYPE**]', this.state.barcodetype)\n          return response + newLine\n        })\n        .catch(error => {\n          alert(error)\n        })\n\n      // Clean the file to prevent from empty lines\n      newFile = newFile\n        .split(',,,,,,\\r\\n')\n        .join('')\n        .split(',,,,,,')\n        .join('')\n\n      // Update the file in Cozy's VFS\n      res = await client.stackClient\n        .fetchJSON(\n          'PUT',\n          '/files/' + this.state.selectedWallets[index].value,\n          newFile\n        )\n        .then(response => {\n          return response\n        })\n        .catch(error => {\n          alert(error)\n        })\n\n      this.setState({\n        textModal: index + 1 + '/' + this.state.selectedWallets.length\n      })\n    }\n\n    this.setState({\n      store: '',\n      note: '',\n      cardid: '',\n      barcodetype: '',\n      busy: false,\n      selectedWallets: [],\n      boolModal: true,\n      titleModal: 'Success',\n      textModal:\n        'Your new card has been added to your wallet. Go back to your wallet to see it.'\n    })\n  }\n\n  loadWalletsNameAndId = async () => {\n    var ids = {}\n    const { client } = this.props\n\n    // Get the id of the folder \"My Wallets\", and the content's id\n    try {\n      ids = await client.stackClient\n        .fetchJSON('GET', '/files/metadata?Path=/My%20Wallets')\n        .then(response => {\n          return {\n            dirId: response.data.id,\n            filesId: response.data.relationships.contents.data\n          }\n        })\n    } catch (e) {\n      // Create the folder \"My Wallets\" and get its id\n      ids = await client.stackClient\n        .fetchJSON('POST', '/files/?Type=directory&Name=My%20Wallets')\n        .then(response => {\n          return { dirId: response.data.id, filesId: [] }\n        })\n        .catch(error => {\n          alert(error)\n        })\n    }\n\n    // Get the name of every files\n    for (var index = 0; index < ids.filesId.length; index++) {\n      // Get Wallet's name\n      ids.filesId[index].value = ids.filesId[index].id\n      ids.filesId[index].label = await client.stackClient\n        .fetchJSON('GET', '/files/' + ids.filesId[index].id)\n        .then(response => {\n          return response.data.attributes.name.replace('.csv', '')\n        })\n    }\n\n    this.setState({ wallets: ids.filesId })\n  }\n\n  render() {\n    return (\n      <form>\n        <Button\n          busy={this.state.busy}\n          type=\"button\"\n          onClick={this.addCard}\n          label=\"Save\"\n          size=\"large\"\n          extension=\"narrow\"\n        />\n        <div>\n          <Label htmlFor=\"name\">Name</Label>\n          <Input\n            id=\"name\"\n            value={this.state.store}\n            onChange={event => {\n              this.setState({ store: event.target.value })\n            }}\n          />\n        </div>\n        <div>\n          <Label htmlFor=\"name\">Note</Label>\n          <Input\n            id=\"name\"\n            value={this.state.note}\n            onChange={event => {\n              this.setState({ note: event.target.value })\n            }}\n          />\n        </div>\n        <div>\n          <Label htmlFor=\"id\">Card id</Label>\n          <Input\n            id=\"id\"\n            value={this.state.cardid}\n            onChange={event => {\n              if (event.target.value.length == 2) {\n                this.setState({\n                  cardid: event.target.value,\n                  barcodetype: 'EAN_2'\n                })\n              } else if (event.target.value.length == 5) {\n                this.setState({\n                  cardid: event.target.value,\n                  barcodetype: 'EAN_5'\n                })\n              } else if (event.target.value.length == 8) {\n                this.setState({\n                  cardid: event.target.value,\n                  barcodetype: 'EAN_8'\n                })\n              } else if (event.target.value.length == 13) {\n                this.setState({\n                  cardid: event.target.value,\n                  barcodetype: 'EAN_13'\n                })\n              } else {\n                this.setState({\n                  cardid: event.target.value,\n                  barcodetype: 'CODE_128'\n                })\n              }\n            }}\n          />\n        </div>\n        <div style={{ background: 'white' }}>\n          <Label htmlFor=\"type\">Format</Label>\n          <SelectBox\n            id=\"type\"\n            value={{\n              value: this.state.barcodetype,\n              label: this.state.barcodetype\n            }}\n            onChange={event => {\n              this.setState({ barcodetype: event.value })\n            }}\n            options={[\n              { value: 'CODE_128', label: 'CODE128' },\n              { value: 'CODE_39', label: 'CODE39' },\n              {\n                value: 'EAN_' + this.state.cardid.length,\n                label: 'EAN',\n                isDisabled:\n                  this.state.cardid.length != 2 &&\n                  this.state.cardid.length != 5 &&\n                  this.state.cardid.length != 8 &&\n                  this.state.cardid.length != 13\n              },\n              {\n                value: 'UPC_A',\n                label: 'UPC_A',\n                isDisabled: this.state.cardid.length != 12\n              },\n              {\n                value: 'UPC_E',\n                label: 'UPC_E'\n              }\n            ]}\n          />\n        </div>\n        <div style={{ background: 'white' }}>\n          <Label htmlFor=\"wallet\">Save in wallets</Label>\n          <SelectBox\n            id=\"wallet\"\n            isMulti\n            onChange={event => {\n              this.setState({ selectedWallets: event })\n            }}\n            components={{\n              Option: CheckboxOption\n            }}\n            options={this.state.wallets}\n          />\n        </div>\n        <br />\n        <Barcode\n          ref={this.Barcode}\n          value={this.state.cardid}\n          format={this.state.barcodetype.replace('_', '')}\n        />\n        {this.state.boolModal && (\n          <Modal\n            title=\"Adding card\"\n            description={\n              <Empty\n                icon=\"cozy\"\n                title={this.state.titleModal}\n                text={this.state.textModal}\n              />\n            }\n            dismissAction={() => this.setState({ boolModal: false })}\n          />\n        )}\n        <br />\n        <br />\n      </form>\n    )\n  }\n}\n\nexport default withClient(EditCard)\n","var map = {\n\t\"./_lib/build_formatting_tokens_reg_exp/index.js\": \"kOWh\",\n\t\"./ar/build_distance_in_words_locale/index.js\": \"XxX6\",\n\t\"./ar/build_format_locale/index.js\": \"alis\",\n\t\"./ar/index.js\": \"EDRf\",\n\t\"./be/build_distance_in_words_locale/index.js\": \"LQ09\",\n\t\"./be/build_format_locale/index.js\": \"kj7F\",\n\t\"./be/index.js\": \"YEhR\",\n\t\"./bg/build_distance_in_words_locale/index.js\": \"7K3h\",\n\t\"./bg/build_format_locale/index.js\": \"RrdL\",\n\t\"./bg/index.js\": \"isx8\",\n\t\"./ca/build_distance_in_words_locale/index.js\": \"wqqj\",\n\t\"./ca/build_format_locale/index.js\": \"qcV0\",\n\t\"./ca/index.js\": \"Vwa+\",\n\t\"./cs/build_distance_in_words_locale/index.js\": \"ZKDM\",\n\t\"./cs/build_format_locale/index.js\": \"ipyF\",\n\t\"./cs/index.js\": \"dvhP\",\n\t\"./da/build_distance_in_words_locale/index.js\": \"2Mgc\",\n\t\"./da/build_format_locale/index.js\": \"Gned\",\n\t\"./da/index.js\": \"7ur/\",\n\t\"./de/build_distance_in_words_locale/index.js\": \"5IWf\",\n\t\"./de/build_format_locale/index.js\": \"THCn\",\n\t\"./de/index.js\": \"bgw5\",\n\t\"./el/build_distance_in_words_locale/index.js\": \"o/GB\",\n\t\"./el/build_format_locale/index.js\": \"8T9h\",\n\t\"./el/index.js\": \"dH0v\",\n\t\"./en/build_distance_in_words_locale/index.js\": \"LZbM\",\n\t\"./en/build_format_locale/index.js\": \"6DAA\",\n\t\"./en/index.js\": \"Us+F\",\n\t\"./eo/build_distance_in_words_locale/index.js\": \"qrnn\",\n\t\"./eo/build_format_locale/index.js\": \"Bl15\",\n\t\"./eo/index.js\": \"UB7v\",\n\t\"./es/build_distance_in_words_locale/index.js\": \"GEfZ\",\n\t\"./es/build_format_locale/index.js\": \"O+zC\",\n\t\"./es/index.js\": \"/S0t\",\n\t\"./fi/build_distance_in_words_locale/index.js\": \"VHtQ\",\n\t\"./fi/build_format_locale/index.js\": \"Oydx\",\n\t\"./fi/index.js\": \"ndVD\",\n\t\"./fil/build_distance_in_words_locale/index.js\": \"uq4p\",\n\t\"./fil/build_format_locale/index.js\": \"d7hw\",\n\t\"./fil/index.js\": \"pNfm\",\n\t\"./fr/build_distance_in_words_locale/index.js\": \"IzMR\",\n\t\"./fr/build_format_locale/index.js\": \"I3Zg\",\n\t\"./fr/index.js\": \"LKA2\",\n\t\"./hr/build_distance_in_words_locale/index.js\": \"DPvn\",\n\t\"./hr/build_format_locale/index.js\": \"puw3\",\n\t\"./hr/index.js\": \"L9Jq\",\n\t\"./hu/build_distance_in_words_locale/index.js\": \"w2RQ\",\n\t\"./hu/build_format_locale/index.js\": \"/0iD\",\n\t\"./hu/index.js\": \"Nm+E\",\n\t\"./id/build_distance_in_words_locale/index.js\": \"JbvB\",\n\t\"./id/build_format_locale/index.js\": \"0wlw\",\n\t\"./id/index.js\": \"A6C3\",\n\t\"./is/build_distance_in_words_locale/index.js\": \"qzMC\",\n\t\"./is/build_format_locale/index.js\": \"S3yD\",\n\t\"./is/index.js\": \"N4bE\",\n\t\"./it/build_distance_in_words_locale/index.js\": \"MDEp\",\n\t\"./it/build_format_locale/index.js\": \"aUJd\",\n\t\"./it/index.js\": \"hmb4\",\n\t\"./ja/build_distance_in_words_locale/index.js\": \"nNvt\",\n\t\"./ja/build_format_locale/index.js\": \"buui\",\n\t\"./ja/index.js\": \"uAXs\",\n\t\"./ko/build_distance_in_words_locale/index.js\": \"oEw+\",\n\t\"./ko/build_format_locale/index.js\": \"9SQf\",\n\t\"./ko/index.js\": \"iW8+\",\n\t\"./mk/build_distance_in_words_locale/index.js\": \"nmwZ\",\n\t\"./mk/build_format_locale/index.js\": \"htxJ\",\n\t\"./mk/index.js\": \"GzBU\",\n\t\"./nb/build_distance_in_words_locale/index.js\": \"SL1f\",\n\t\"./nb/build_format_locale/index.js\": \"CJ5F\",\n\t\"./nb/index.js\": \"73vv\",\n\t\"./nl/build_distance_in_words_locale/index.js\": \"Uyu0\",\n\t\"./nl/build_format_locale/index.js\": \"doCD\",\n\t\"./nl/index.js\": \"hCQt\",\n\t\"./pl/build_distance_in_words_locale/index.js\": \"FUBD\",\n\t\"./pl/build_format_locale/index.js\": \"nOYf\",\n\t\"./pl/index.js\": \"B6yL\",\n\t\"./pt/build_distance_in_words_locale/index.js\": \"aTPA\",\n\t\"./pt/build_format_locale/index.js\": \"TTT0\",\n\t\"./pt/index.js\": \"gdks\",\n\t\"./ro/build_distance_in_words_locale/index.js\": \"gI+A\",\n\t\"./ro/build_format_locale/index.js\": \"njjO\",\n\t\"./ro/index.js\": \"r2yp\",\n\t\"./ru/build_distance_in_words_locale/index.js\": \"KmPx\",\n\t\"./ru/build_format_locale/index.js\": \"UUBw\",\n\t\"./ru/index.js\": \"nz/o\",\n\t\"./sk/build_distance_in_words_locale/index.js\": \"q2Bs\",\n\t\"./sk/build_format_locale/index.js\": \"9sxn\",\n\t\"./sk/index.js\": \"Wqan\",\n\t\"./sl/build_distance_in_words_locale/index.js\": \"mlv2\",\n\t\"./sl/build_format_locale/index.js\": \"vHkZ\",\n\t\"./sl/index.js\": \"KYSo\",\n\t\"./sr/build_distance_in_words_locale/index.js\": \"LlkS\",\n\t\"./sr/build_format_locale/index.js\": \"RhjJ\",\n\t\"./sr/index.js\": \"7mU3\",\n\t\"./sv/build_distance_in_words_locale/index.js\": \"UNBN\",\n\t\"./sv/build_format_locale/index.js\": \"zTNB\",\n\t\"./sv/index.js\": \"hxgj\",\n\t\"./th/build_distance_in_words_locale/index.js\": \"XAGa\",\n\t\"./th/build_format_locale/index.js\": \"We2s\",\n\t\"./th/index.js\": \"Pk+z\",\n\t\"./tr/build_distance_in_words_locale/index.js\": \"aFZF\",\n\t\"./tr/build_format_locale/index.js\": \"jh7A\",\n\t\"./tr/index.js\": \"3ZWG\",\n\t\"./zh_cn/build_distance_in_words_locale/index.js\": \"KdB7\",\n\t\"./zh_cn/build_format_locale/index.js\": \"l4EP\",\n\t\"./zh_cn/index.js\": \"8tMq\",\n\t\"./zh_tw/build_distance_in_words_locale/index.js\": \"vyyr\",\n\t\"./zh_tw/build_format_locale/index.js\": \"uYH7\",\n\t\"./zh_tw/index.js\": \"QPlQ\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"nw0P\";","module.exports = {\"name\":\"Cozy Wallet\",\"slug\":\"wallet\",\"icon\":\"icon.svg\",\"categories\":[],\"version\":\"0.1.3\",\"licence\":\"AGPL-3.0\",\"editor\":\"\",\"source\":\"https://github.com/tintinmar1995/cozy-wallet.git@build\",\"developer\":{\"name\":\"tintinmar1995\",\"url\":\"\"},\"routes\":{\"/\":{\"folder\":\"/\",\"index\":\"index.html\",\"public\":false}},\"permissions\":{\"apps\":{\"description\":\"Required by Cozy Wallet to read and write on Drive\",\"type\":\"io.cozy.files\",\"verbs\":[\"GET\",\"PUT\",\"DELETE\"]},\"mocks todos\":{\"description\":\"TO REMOVE: only used as demonstration about Cozy App data interactions\",\"type\":\"io.mocks.todos\"}}}","import React, { Component } from 'react'\nimport { Modal, ModalContent } from 'cozy-ui/react'\nimport { Button } from 'cozy-ui/react/Button'\nimport Avatar from 'cozy-ui/react/Avatar'\nimport Barcode from 'react-barcode'\n\nexport class Card extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = { boolModal: false }\n  }\n\n  render() {\n    const { card } = this.props\n    const { boolModal } = this.state\n\n    // Prevent the app from printing an empty card\n    if (!card.store) {\n      return null\n    }\n\n    var out = []\n    // The modal contains the barcode and a buttons to delete one card\n    if (boolModal) {\n      out.push(\n        <div>\n          <Modal\n            title={card.store}\n            secondaryAction={() => {\n              this.setState({ boolModal: false, cancelling: false })\n            }}\n          >\n            <ModalContent>\n              <center>\n                <Barcode\n                  value={card.cardid}\n                  height=\"100%\"\n                  format={card.barcodetype.replace('_', '')}\n                />\n              </center>\n              <h4>{card.note}</h4>\n              <br />\n              <br />\n              <div>\n                <Button\n                  icon=\"trash\"\n                  busy={this.state.cancelling}\n                  type=\"button\"\n                  theme=\"danger\"\n                  onClick={() => {\n                    this.setState({ cancelling: !this.state.cancelling })\n                  }}\n                  size=\"tiny\"\n                  label=\"Delete\"\n                />\n                {this.state.cancelling && (\n                  <Button\n                    type=\"button\"\n                    theme=\"danger\"\n                    size=\"tiny\"\n                    label=\"Confirm\"\n                    onClick={() => {\n                      this.setState({ boolModal: false })\n                      this.props.onClick(this.props.id)\n                    }}\n                  />\n                )}\n                {this.state.cancelling && (\n                  <Button\n                    icon=\"cross\"\n                    type=\"button\"\n                    theme=\"secondary\"\n                    size=\"tiny\"\n                    onClick={() => {\n                      this.setState({ cancelling: !this.state.cancelling })\n                    }}\n                    label=\"Cancel\"\n                  />\n                )}\n              </div>\n            </ModalContent>\n          </Modal>\n        </div>\n      )\n    }\n\n    // In the main tab, cards are shown as an Avator and a button to open a modal\n    out.push(\n      <div style={{ margin: '10px' }}>\n        <Avatar\n          text={(str => {\n            if (str) {\n              return str.substring(0, 1)\n            }\n          })(card.store)}\n          style={{ marginRight: '10px' }}\n        />\n        <Button\n          onClick={() => this.setState({ boolModal: true })}\n          label={card.store}\n          size=\"large\"\n          theme=\"ghost\"\n          extension=\"narrow\"\n        />\n      </div>\n    )\n    return out\n  }\n}\n\nexport default Card\n","import React from 'react'\nimport { hot } from 'react-hot-loader'\nimport { Route, Switch, Redirect, HashRouter } from 'react-router-dom'\nimport { Layout, Main, Content } from 'cozy-ui/react/Layout'\nimport { Sprite as IconSprite } from 'cozy-ui/react/Icon'\n\nimport Sidebar from './Sidebar'\nimport WalletsViewer from './WalletsViewer'\nimport NewCard from './NewCard'\n\nexport const App = () => (\n  <HashRouter>\n    <Layout>\n      <Sidebar />\n      <Main>\n        <Content className=\"app-content\">\n          <Switch>\n            <Route path=\"/wallet\" component={WalletsViewer} />\n            <Route path=\"/add\" component={NewCard} />\n            <Redirect from=\"/\" to=\"/wallet\" />\n            <Redirect from=\"*\" to=\"/wallet\" />\n          </Switch>\n        </Content>\n      </Main>\n      <IconSprite />\n    </Layout>\n  </HashRouter>\n)\n\n/*\n  Enable Hot Module Reload using `react-hot-loader` here\n  We enable it here since App is the main root component\n  No need to use it anywhere else, it sould work for all\n  child components\n*/\nexport default hot(module)(App)\n"],"sourceRoot":""}